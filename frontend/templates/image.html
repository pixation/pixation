{% extends 'base/master.html' %}
{% block content %}
{% load account %}

{% if user.is_authenticated %}
<p>Welcome, {{ user.first_name }}. Thanks for logging in.</p>
{% else %}
<p>Welcome, new user. Please log in.</p>
{% endif %}
<div ng-controller="imageController">
  <h2>Image</h2>
  <div class="row">
    <div class="col-xs-12">
      <img class="img-responsive" src="{{image}}" alt="Test" id="image" ng-hide="editMode"/>
      <div class="">
        <canvas id="canvas" width="1" height="1" ng-hide="!editMode"></canvas>

      </div>
    </div>
    <div class="col-xs-12">
      <div class="">
        {{owner}}
      </div>
      <div class="">
        Is Public:{{public}}
        <span ng-bind="x"></span>,
        <span ng-bind="y"></span>

      </div>
      <div class="">

        <button type="button" name="button" class="btn btn-default" ng-click="edit()">Edit</button>
        <div ng-show="editMode">
          <div class="form-group"  style="margin-top: 10px;">
            <label for="optionsRadios">Choose API:</label>
            <div class="radio">
              <label>
                <input type="radio" name="optionsRadios" id="optionsRadios1" value="1" checked ng-model="model.option">
                Resize
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="optionsRadios" id="optionsRadios2" value="2" ng-model="model.option">
                Remove Object
              </label>
            </div>
          </div>
          <div ng-show="model.option == 1">
            <div class="form-group"  style="margin-top: 10px;">
              <label for="height">Height:</label>
              <input type="text" name="height" value="" class="form-control" placeholder="height" ng-model="model.height">
            </div>
            <div class="form-group">
              <label for="width">Width:</label>
              <input type="text" name="width" value="" class="form-control" placeholder="width" ng-model="model.width">
            </div>
          </div>
          <div ng-show="model.option == 2">
            <div class="">
              Click on the image to create a polygon
            </div>
            <div class="form-group">
              <button type="button" name="button" class="btn btn-default" ng-click="clear()">Clear</button>
            </div>
          </div>
          <div class="">
            <button type="button" name="button" class="btn btn-success" ng-click="submit()" ng-show="editMode">Submit</button>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
